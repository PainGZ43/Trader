# 상세 설계: 사용자 인터페이스 (UI/UX) 모듈

## 1. 개요
이 모듈은 사용자가 시스템을 모니터링하고 제어하는 **시각적 인터페이스**입니다. **PyQt6**를 사용하여 고성능 데스크탑 애플리케이션으로 구현하며, **Dark Mode** 기반의 전문가용 HTS 스타일을 지향합니다.

## 2. 메인 윈도우 레이아웃 (Main Window)
사용자가 원하는 대로 창을 배치할 수 있는 **Dock Widget** 구조를 채택합니다.

### 2.1. 상단 헤더 (Header Bar)
*   **시스템 상태**: API 연결 상태(초록/빨간 점), 현재 시간.
*   **시장 지표 (Macro)**: 코스피/코스닥 지수, **원/달러 환율**.
*   **글로벌 컨트롤**: [자동매매 시작/중지] 버튼, [설정] 버튼, [로그] 버튼.

### 2.2. 대시보드 (Dashboard) - 중앙
*   **실시간 차트 (Real-time Chart)**:
    *   `PyQtGraph` 라이브러리 사용 (고성능).
    *   Candlestick, MA선, 거래량 바 차트.
    *   매수/매도 체결 시점에 화살표 마커 표시.
*   **호가창 (Order Book)**:
    *   매도 10호가 / 매수 10호가 및 잔량 표시.
    *   체결강도 게이지 바.

### 2.3. 제어 패널 (Control Panel) - 우측
*   **전략 현황**: 현재 활성화된 전략 이름, AI 예측 점수(Confidence).
*   **계좌 요약**: 총 예수금, 총 평가손익, 당일 실현손익.
*   **보유 종목 리스트 (Portfolio)**:
    *   테이블 형태: 종목명, 수량, 평단가, 현재가, 수익률(%).
    *   수익률에 따라 텍스트 색상 변경 (빨강/파랑).

### 2.4. 로그 및 리포트 (Log & Report) - 하단
*   **로그 뷰어**: 시스템/매매/에러 로그 필터링 조회.
*   **상세 리포트 탭**:
    *   **일별 수익률**: 캘린더 형태로 일별 손익 표시.
    *   **매매 분석**: 승률, 손익비, MDD 등 통계 그래프 제공.

## 3. 주요 다이얼로그 (Dialogs)

### 3.1. 전략 설정 (Strategy Config)
*   **전략 선택**: 콤보박스로 전략(변동성 돌파, AI 하이브리드 등) 선택.
*   **종목 선정 소스 (Target Source)**:
    *   [ ] **사용자 관심종목**: 직접 등록한 종목 리스트.
    *   [ ] **조건검색 연동**: 키움 조건검색식 선택.
    *   [ ] **AI 추천**: AI가 선정한 Top 10 종목 자동 편입.
*   **필터링 옵션**:
    *   [x] **유동성 필터**: 거래대금 100억 미만 제외.
    *   [x] **관리종목 필터**: 거래정지/관리종목 제외.
*   **백테스팅 (Backtest)**:
    *   [백테스트 실행] 버튼 -> 기간 설정 및 결과 리포트 팝업.

### 3.2. 환경 설정 (Global Settings)
*   **계정 및 보안 (Account & Security)**:
    *   **키움증권 로그인**: ID, 비밀번호, 인증서 비밀번호 (자동 로그인용, **암호화 저장**).
    *   **API 인증**: App Key, Secret Key (**OS 보안 저장소/Keyring 사용**).
    *   **계좌 선택**: 주식 매매에 사용할 계좌번호 선택 (복수 계좌 지원).
*   **알림 설정 (Notification)**:
    *   **카카오톡**: Access Token, Refresh Token 입력 (토큰 발급 가이드 링크 제공).
    *   **알림 항목**: [x]체결, [x]에러, [x]일일 리포트.
*   **자동화 설정 (Automation)**:
    *   **스케줄링**: [x]자동 실행(08:30), [x]자동 종료(16:00).
*   **테마 설정**: [Dark Mode / Light Mode] 선택 가능.

## 4. UX/UI 디자인 원칙
*   **테마 지원 (Theme Support)**: 사용자의 선호에 따라 **Dark Mode** (기본값)와 **Light Mode**를 전환할 수 있도록 스타일시트(QSS) 분리 적용.
*   **반응형 (Responsive)**: 창 크기 조절 시 차트와 테이블이 비율에 맞춰 자동 리사이징.
*   **즉각적 피드백**: 버튼 클릭 시 클릭 효과, 주문 전송 시 상태바 메시지 표시.

## 5. 테스트 계획 (Testing Plan)
*   **기능 테스트**: 버튼 클릭 시 의도한 다이얼로그가 뜨는지, 설정값이 저장되는지 확인.
*   **연동 테스트**: 가상 데이터를 흘려보냈을 때 차트가 실시간으로 그려지는지, 호가창이 갱신되는지 확인.
